<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" >

<title>G-Codepen bug fix</title>


<style>
#filter {
    background-image: url("data:image/svg+xml;utf8,%3csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:ev='http://www.w3.org/2001/xml-events'  baseProfile='full' height='700' width='700' viewbox='0 0 700 700' %3e %3cdefs%3e%3cradialGradient color%2dinterpolation='sRGB' id='FishEye' spreadMethod='pad' cx='50%25' cy='50%25'%3e%3canimate attributeName='cx' values='0%25;20%25;100%25;80%25;0%25' begin='image2.click;4s' dur='15s' repeatCount='indefinite' /%3e%3canimate attributeName='cy' values='0%25;100%25;100%25;80%25;0%25' begin='0s' dur='15s' repeatCount='indefinite' /%3e  %3cstop stop%2dcolor='green' offset='0%25' %3e%3c/stop%3e  %3cstop stop%2dcolor='orange' offset='30%25'%3e%3c/stop%3e  %3cstop stop%2dcolor='red' offset='100%25' %3e%3c/stop%3e%3c/radialGradient%3e%3c/defs%3e%3crect id='FishEyeRect' x='0' y='0' height='700' width='700' style='fill: url(%23FishEye); stroke: none;' /%3e%3c/svg%3e");
}

#svg-container {
  margin-top: 10px;
}


@font-face {
    font-family: 'Sabbath';
    src: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/383755/KabelUltra.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

/*$p: #56396f; */


body {
  background: #222;
  font-family: Sabbath;
  color: #999;
  text-align: center;
  perspective:600px;
  overflow:hidden;
  .svgwrap{
    margin-top:25px;
    position:absolute;
    width:700px;
    height:auto;
    left:50%;
    top:50%;
    transform-style:preserve-3d;
    transform:translateX(-50%) rotateY(-20deg);
    max-width:100vw;
    svg{
      width:100vw;
      height:100vh;
      max-width:600px;
      foreignObject{
        width:100%;
        max-width:100%;
      }
    }
  }
}
svg {
  max-width:700px;
}
  p{
    font-size:19vw;
    line-height:0.9;
    color:$p;
    text-transform:uppercase;
    margin:0px auto;
    letter-spacing:-10px;
    display:block;
    width:100%;
    text-align:center;
    word-break:keep-all;
    line-break:keep-all;
    transform:skewY(-10deg);
    &:first-of-type{
      margin-top:5%;
    }
    @media (min-width:700px){
      font-size:100px;
    }
    &:focus{
      outline: 0px solid transparent;
    }
    span{
      display:block;
      color:#888;
    }
  }

div {
  width: 630px;
  margin: 0 auto;
}
h4 {
  font-size: 140%;
}


</style>

</head>
<body>
<div id="svg-container">
 <svg
  id="main-svg"
  xmlns:svg="http://www.w3.org/2000/svg"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:ev="http://www.w3.org/2001/xml-events"
  version="1.0"
  x="0"
  y="0"
  width="700"
  height="700"
  viewBox="0 0 700 700">
<defs>
  <filter id="warping" primitiveUnits="objectBoundingBox" >
    <feImage xlink:href="data:image/svg+xml;utf8, %3csvg version='1.1'  xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:ev='http://www.w3.org/2001/xml%2devents' height='700' width='700' viewport='0 0 700 700' baseProfile='full'%3e%3cdefs%3e%3cradialGradient id='warp' r='.9'%3e   %3cstop offset='0%25' stop%2dcolor='%23f00'%3e%3c/stop%3e %3cstop offset='10%25' stop%2dcolor='%23000'%3e%3c/stop%3e %3cstop offset='20%25' stop%2dcolor='%23f00'%3e%3c/stop%3e %3cstop offset='30%25' stop%2dcolor='%23000'%3e%3c/stop%3e %3cstop offset='40%25' stop%2dcolor='%23f00'%3e%3c/stop%3e %3cstop offset='50%25' stop%2dcolor='%23000'%3e%3c/stop%3e %3cstop offset='60%25' stop%2dcolor='%23f00'%3e%3c/stop%3e %3cstop offset='70%25' stop%2dcolor='%23000'%3e%3c/stop%3e %3cstop offset='80%25' stop%2dcolor='%23f00'%3e%3c/stop%3e %3cstop offset='90%25' stop%2dcolor='%23000'%3e%3c/stop%3e  %3cstop offset='100%25' stop%2dcolor='%23f00'%3e%3c/stop%3e%3c/radialGradient%3e %3c/defs%3e%3crect id='warped' width='700' height='700' fill='url(%23warp)'/%3e%3c/svg%3e" result="image"/>
    <feDisplacementMap 
       scale="0.01" 
       xChannelSelector="R" 
       yChannelSelector="R" 
       in="SourceGraphic" 
       in2="image">
    </feDisplacementMap>
  </filter>    
  </defs>
    <use xlink:href ="#warped" />
</svg>
</div>

<div class="svgwrap">
  <svg filter="url(#warping)" id="filter">
    <foreignObject width="100%">
      <p  xmlns="http://www.w3.org/1999/xhtml" contenteditable="true" shape-rendering="crispEdges">Black Sabbath</p>
      <p  xmlns="http://www.w3.org/1999/xhtml" contenteditable="true" shape-rendering="crispEdges"><span>Master<br>of<br>Reality</span></p>
  </foreignObject>
  </svg>
  </div>
</body>
</html>