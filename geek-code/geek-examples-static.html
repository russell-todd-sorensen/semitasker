<html>
<head>
 <title>Geek Code 1</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/css/log.css" media="all">
<link rel="stylesheet" type="text/css" href="/js/jQuery.UI.Combined.1.8.20.1/Content/Content/themes/base/jquery.ui.all.css">
<script src="/js/jquery-1.7.1.js"></script>
<script src="/js/jQuery.UI.Combined.1.8.20.1/Content/Scripts/jquery-ui-1.8.20.js"></script>
<script src="/js/d3.v3.js"></script>
<script src="/js/log-2.js"></script>
<script src="/js/example-library.js"></script>
<style>
#gallery, #viewer {
    display: inline-block;
    vertical-align: top;
}

#gallery {
    width: 440px;
    background-color: white;
    padding: 20px;
}

#gallery > div {
    width: 100px;
    height: 100px;
    background-color: white;
    border: 1px solid silver;
    display: inline-block;
    text-align: center;
    vertical-align: top;
    margin-bottom: 10px;
    margin-right: 5px;
    background-image: url(/images/swan-1.jpg);
    background-size: 120px 100px;
    cursor: pointer;
}

#gallery a {
    display: inline-block;
    height: 100px;
    width:100px;
}

#viewer {
    margin-top: 15px;
    height: 550px;
    width: 875px;
    border: 2px solid #09F;
    background-size: 875px 550px;
}
#viewer a {
    display: inline-block;
    height: 550px;
    width:875px;
}

</style>

</head>
<body>
 <div id="gallery"></div>
 <div id="viewer"></div>
</div>

<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0" y="0" width="1000" height="1200" viewBox="0 0 1000 1200">

</svg>
<!-- here comes the script    -->
<script>
var imageDirectory = "/images/desktop-background-images/";
var imageNameTemplate = "hsb-";
var imageType = "png";
var imageIds = [12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11];


function loadImages (thumbDivId,viewerDivId) {
  var gallery,div,image;
  gallery = d3.select('#' + thumbDivId);
  data = [];
	
  for (var i in imageIds) {
    data[i] = {};
    data[i].image = imageDirectory + imageNameTemplate +  imageIds[i] + "." + imageType;
    data[i].viewerId = viewerDivId;
  }
	
  gallery.selectAll('div')
    .data(data)
    .enter()
    .append('div')
    .style('background-image',function(d,i) {
        return "url(" + d.image + ")";
    })
    .on('click', displayImage);
}

function displayImage(d,i) {
  Log.Notice("image= " + d.image);
  d3.select('#' + d.viewerId)
    .html("")
    .style('background-image', "url(" + d.image + ")")
    .append('a')
    .attr('target','myViewer')
    .attr('href', d.image);
}
loadImages('gallery','viewer');

if {0} { 
$(document).on("DOMNodeInserted", $.proxy(function (e) {
    if (e.target.parentNode.getAttribute("contenteditable") === "true") {
        var newTextNode = document.createTextNode("");
        function antiChrome(node) {
            if (node.nodeType == 3) {
                newTextNode.nodeValue += node.nodeValue.replace(/(\r\n|\n|\r)/gm, "\n")
            }
            else if (node.nodeType == 1 && node.childNodes) {
                    for (var i = 0; i < node.childNodes.length; ++i) {
                        antiChrome(node.childNodes[i]);
                    }
            }
        }
        antiChrome(e.target);

        e.target.parentNode.replaceChild(newTextNode, e.target);
    }
}, this));

}
</script>
</span></body></html>