<html>
<head>
 <title>Geek Code 1</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/css/log.css" media="all">
<link rel="stylesheet" type="text/css" href="/js/jQuery.UI.Combined.1.8.20.1/Content/Content/themes/base/jquery.ui.all.css">
<script src="/js/jquery-1.7.1.js"></script>
<script src="/js/jQuery.UI.Combined.1.8.20.1/Content/Scripts/jquery-ui-1.8.20.js"></script>
<script src="/js/d3.v3.js"></script>
<script src="/js/log-2.js"></script>
<script src="/js/example-library.js"></script>
<style>

</style>

</head>
<body>
 <div id="gallery"></div>
 <div id="viewer"></div>
</div>

<svg 
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg" 
   xmlns:xlink="http://www.w3.org/1999/xlink" 
   version="1.0" 
   x="0" 
   y="0" 
   width="1000" 
   height="1200" 
   viewBox="0 0 1000 1200">

</svg>


<div id='test'>
<br style='color:brown;'>&lt;p id='my-paragraph' &gt;This is some text
<br>on a new line now.&lt;/p&gt;
<span style="background-color: rgba(200, 200, 200, 0.85);">what is up</span>
</div>
<!-- here comes the script    -->
<script>

function removePNodes(html) {
  var regPNodes = /(<(?:p|\/p|div|\/div|br|span|\/span)(?:\/>|>))+|(<(?:p|\/p|div|\/div|br|span|\/span)( )([^>])*(?:\/>|>))+/gi;
  
  return html
    .replace(regPNodes, "\n");
}

var html = $('#test').html();

var stripped = removePNodes(html);

Log.Notice('html=' + html);
Log.Notice('stripped =' + stripped);
</script>
</body>

</html>