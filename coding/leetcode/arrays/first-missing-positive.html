<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" >

<title></title>
<style>
.pass {
    color: green;
}
.fail {
    color: red;
}
</style>
<script src=""></script>

<script>
/**
 * @param {number[]} nums
 * @return {number}
 */
var firstMissingPositive = function(nums) {
    let len = nums.length
    let maxPossible = len + 1;
    let minPossible = 1;
    let min;// = maxPossible;
    let max ;//= 0;
    let candidate;
    let answer;
    let foundInRange = 0;
    min = max = nums[0]
    for (let i = 0; i < len; i++) {

        candidate = nums[i]
        if (candidate > len || candidate < 1) {
            maxPossible--;
        } else {
            foundInRange++;
            if (candidate < minPossible)  {
                maxPossible--
            } else
            if (candidate > maxPossible) {
                maxPossible--
            }
            if (candidate < min) {
                min = candidate
            } else
            if (candidate > max) {
                max = candidate
            }
            if (candidate == minPossible) {
                minPossible++
            }
            if (min == minPossible) {
                minPossible++
            }
        }
    }
    if (minPossible < min) {
        answer = minPossible
    } else
    if (maxPossible > max) {
        answer = max+1
    } else {
        answer = minPossible
    }
    return {minPossible:minPossible, maxPossible:maxPossible,
        min:min,max:max,answer:answer,foundInRange:foundInRange}
};

var firstMissingPositiveBackward = function(nums) {
    let len = nums.length
    let maxPossible = len + 1;
    let minPossible = 1;
    let min;// = maxPossible;
    let max ;//= 0;
    let candidate;
    let answer;
    let foundInRange = 0;
    let gap = 0
    candidate = min = max = nums[len-1]
    for (let i = len-2; i >= 0; i--) {

        if (candidate > len || candidate < 1) {
            maxPossible--;
        } else {
            foundInRange++;
            if (candidate < minPossible)  {
                maxPossible--
            } else
            if (candidate > maxPossible) {
                maxPossible--
            }
            if (candidate < min) {
                min = candidate
            } else
            if (candidate > max) {
                max = candidate
            }
            if (candidate == minPossible) {
                minPossible++
            }
            if (min == minPossible) {
                minPossible++
            }
        }

        candidate = nums[i]
    }
    gap = (foundInRange - (max-min+1))
    if ( gap > 0 ) {
        maxPossible -= gap
    }
    if (minPossible < min) {
        answer = minPossible
    } else
    if (maxPossible > max) {
        answer = max+1
    } else {
        answer = minPossible
    }
    return {minPossible:minPossible, maxPossible:maxPossible,
        min:min,max:max,answer:answer,foundInRange:foundInRange}
};

var firstMissingPositiveDead = function(nums) {
    let len = nums.length
    let maxPossible = len + 1;
    let minPossible = 1;
    let min;// = maxPossible;
    let max ;//= 0;
    let candidate;
    let answer;
    let foundInRange = 0;
    candidate = min = max = nums[0]
    let lowestTried = 0;
    let highestTried = 0;
    let peek;
    for (let i=1;i<=len;i++) {
        if (candidate < len || candidate < 1) {
            maxPossible--
            candidate = nums[i]
        } else {
            foundInRange++
            if (candidate == minPossible) minPossible++;
            if (minPossible == min) minPossible++;
            if (candidate < min) min = candidate;
            if (candidate > max) max = candidate;
        }
        candidate = nums[candidate]
    }
    if (minPossible < min) {
        answer = minPossible
    } else
    if (maxPossible > max) {
        answer = max+1
    } else {
        answer = minPossible
    }
    return {minPossible:minPossible, maxPossible:maxPossible,
        min:min,max:max,answer:answer,foundInRange:foundInRange}
};


var cmpInts = function(a,b) {
    a = parseInt(a)
    b = parseInt(b)
    return (a>b?1:a<b?-1:0)
}

var bruteForce = function(nums) {
    nums.sort(cmpInts)
    var min = 1;
    var candidate;
    for (var i=0;i<nums.length;i++) {
        candidate = nums[i]
        if (candidate == min) {
            min++
        }
    }
    return min
}

var lists = []
lists[lists.length] = [1,2,0]
lists[lists.length] = [3,4,-1,1]
lists[lists.length] = [7,8,9,11,12]
lists[lists.length] = [4,3,5,7,1]
lists[lists.length] = [1,3,4,5,6,7,8]
lists[lists.length] = [4,5,6,7,8,9]
lists[lists.length] = [1,2,3,4]
lists[lists.length] = [-1,0,5,4,2]
lists[lists.length] = [1,1,1,4,5,6]
lists[lists.length] = [1,2,4,5,7,9]
lists[lists.length] = [8,9,4,3,2]
lists[lists.length] = [-1,-2,-5,1,3,4]
lists[lists.length] = [0,0,0,-1]
lists[lists.length] = [5,4,3,2,1]
lists[lists.length] = [1,2,5,6,7,9]
lists[lists.length] = [1,2,3,4,5,7]
lists[lists.length] = [5,4,3,2,1,6]
lists[lists.length] = [1,2,3,5,4,0]
lists[lists.length] = [1,2,3,6,8,7]
lists[lists.length] = [1,2,3,6,8,7,4]
lists[lists.length] = [4,5,6,7,8,-1,-5,2,3]
lists[lists.length] = [1,2,3,4,5,30,31,32,33]
lists[lists.length] = [1,2,3,4,6,30,31,32,33]
lists[lists.length] = [1,2,3,4,6,30,33]
lists[lists.length] = [0] 
lists[lists.length] = []
lists[lists.length] = [1]
lists[lists.length] = [0,2,2,1,1]
lists[lists.length] = [1,2,1,4,5,6]
lists[lists.length] = [1,1,2,4,5,6]
lists[lists.length] = [1,1,1,1,1,6]
lists[lists.length] = [6,1,1,1,1,1]
lists[lists.length] = [6,1,1,1,1,6]
lists[lists.length] = [1,6,1,6,1,1]
lists[lists.length] = [1,1,1,2,5,6]
lists[lists.length] = [1,1,2,2,5,6]
lists[lists.length] = [1,1,5,6,2,2]
lists[lists.length] = [2,2,2,6,5,4]
lists[lists.length] = [2,1,1,4,5,6]
lists[lists.length] = [2,1,1,1,5,6]
lists[lists.length] = [2,6,1,1,5,1]
lists[lists.length] = [5,6,2,1,1,1]
lists[lists.length] = [2,2,5,6,1,1]
lists[lists.length] = [2,1,1,6,5,4]
lists[lists.length] = [2,1,1,6,5,6]
lists[lists.length] = [3,3,2,2,1,1,6,5,6]
lists[lists.length] = [3,2,2,6,5,6]
lists[lists.length] = [4,1,3,6,5,6]
lists[lists.length] = [6,6,5,4,3,1]
</script>
</head>
<body>
<pre>
        41. First Missing Positive
        Hard
        
        2032
        
        641
        
        Favorite
        
        Share
        Given an unsorted integer array, find the smallest missing positive integer.
        
        Example 1:
        
        Input: [1,2,0]
        Output: 3
        Example 2:
        
        Input: [3,4,-1,1]
        Output: 2
        Example 3:
        
        Input: [7,8,9,11,12]
        Output: 1
        Note:
        
        Your algorithm should run in O(n) time and uses constant extra space.
        
        Accepted
        240,340
        Submissions
        809,621
</pre>
<pre id="inputs">

</pre>
<script>

var results = []
var mins = []
var failed = []
let printedLists = "" 



for (var i = 0;i<lists.length;i++) {
    results[i] = firstMissingPositive(lists[i])
    printedLists = printedLists + "\nlist[" + i + "]=[" + lists[i].toString() + "]"
    mins[i] = bruteForce(lists[i])
    if (results[i].answer == mins[i]) {
        results[i].correct = "<b class='pass'>pass</b>" 
        results[i].actual = mins[i]
    } else {
        results[i].correct = "<b class='fail'>fail</b>"
        results[i].actual = mins[i]
        failed[failed.length] = i
    }
    printedLists = printedLists + " (" + results[i].correct + ") (mp>m?='" + (results[i].maxPossible > results[i].max) + "')"
}

document.getElementById("inputs").innerHTML = printedLists

</script>
</body>
</html>


