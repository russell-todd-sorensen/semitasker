<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" >

<title>LeetCode 30-Day Challenge: Day 12</title>
<!--
Single Element in a Sorted Array

You are given a sorted array consisting of only integers 
where every element appears exactly twice, except for one 
element which appears exactly once. Find this single element 
that appears only once.


Example 1:

Input: [1,1,2,3,3,4,4,8,8]
Output: 2
Example 2:

Input: [3,3,7,7,10,11,11]
Output: 10
 

Note: Your solution should run in O(log n) time and O(1) space.
-->
<script>
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNonDuplicate = function(nums) {

    let len       = nums.length,
        start     = 0,
        end       = len-1,
        subLen    = end - start + 1,
        highId    = Math.floor(subLen/2),
        lowId     = highId - 1,
        diff      = nums[highId] - nums[lowId],
        count     = 0,
        lowStart  = start,
        highEnd   = end,
        lowEnd,            // <---    these can't be intialized 
        highStart;         // <--- +  in the if block below with let

    if (diff == 0) {
        lowEnd    = lowId-1;
        highStart = highId+1;
    } 
    else {
        lowEnd    = lowId;
        highStart = highId;
    }
 
    let lowLen  = lowEnd-lowStart + 1,
        highLen = highEnd-highStart + 1;

    while (count < 1000) {
        count++;
        if (lowLen == 1) {
            return nums[lowStart]
        } else
        if (highLen == 1) {
            return nums[highStart]
        }

        if (lowLen % 2 == 1) { // take low nums
            start     = lowStart;
            end       = lowEnd;
        } else { // take high nums
            start     = highStart;
            end       = highEnd;
        }

        subLen    = end - start + 1;
        highId    = Math.floor(subLen/2) + start;
        lowId     = highId - 1;
        diff      = nums[highId] - nums[lowId];

        if (diff == 0) {
            lowStart  = start;
            lowEnd    = lowId  - 1;
            highStart = highId + 1;
            highEnd   = end;
        } else {
            lowStart  = start;
            lowEnd    = lowId;
            highStart = highId;
            highEnd   = end;
        }

        lowLen    = lowEnd-lowStart + 1;
        highLen   = highEnd-highStart + 1
    }

    return false;
};
</script>
</head>
<body>
<pre>
Single Element in a Sorted Array

You are given a sorted array consisting of only integers 
where every element appears exactly twice, except for one 
element which appears exactly once. Find this single element 
that appears only once.


Example 1:

Input: [1,1,2,3,3,4,4,8,8]
Output: 2
Example 2:

Input: [3,3,7,7,10,11,11]
Output: 10
 

Note: Your solution should run in O(log n) time and O(1) space.

/**
 * @param {number[]} nums
 * @return {number}
 */
 var singleNonDuplicate = function(nums) {

    let len       = nums.length,
        start     = 0,
        end       = len-1,
        subLen    = end - start + 1,
        highId    = Math.floor(subLen/2),
        lowId     = highId - 1,
        diff      = nums[highId] - nums[lowId],
        count     = 0,
        lowStart  = start,
        highEnd   = end,
        lowEnd,            // &lt;---    these can't be intialized 
        highStart;         // &lt;--- +  in the if block below with let

    if (diff == 0) {
        lowEnd    = lowId-1;
        highStart = highId+1;
    } 
    else {
        lowEnd    = lowId;
        highStart = highId;
    }
 
    let lowLen  = lowEnd-lowStart + 1,
        highLen = highEnd-highStart + 1;

    while (count &lt;= Math.ceil(Math.log2(len)) ) {
        count++
        if (lowLen == 1) {
            return nums[lowStart]
        } else
        if (highLen == 1) {
            return nums[highStart]
        }

        if (lowLen % 2 == 1) { // take low nums
            start     = lowStart;
            end       = lowEnd;
        } else { // take high nums
            start     = highStart;
            end       = highEnd;
        }

        subLen    = end - start + 1;
        highId    = Math.floor(subLen/2) + start;
        lowId     = highId - 1;
        diff      = nums[highId] - nums[lowId];

        if (diff == 0) {
            lowStart  = start;
            lowEnd    = lowId  - 1;
            highStart = highId + 1;
            highEnd   = end;
        } else {
            lowStart  = start;
            lowEnd    = lowId;
            highStart = highId;
            highEnd   = end;
        }

        lowLen    = lowEnd-lowStart + 1;
        highLen   = highEnd-highStart + 1
    }

    return false;
};

</pre>
</body>
</html>


