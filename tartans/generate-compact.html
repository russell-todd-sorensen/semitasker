<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Generate Tartans</title>
<link rel="stylesheet" type="text/css" href="/css/log.css" media="all" />
<link rel="stylesheet" type="text/css"
      href="/js/jQuery.UI.Combined.1.8.20.1/Content/Content/themes/base/jquery.ui.all.css" />
<link rel="stylesheet" type="text/css" href="/css/log.css" media="all" />
<link rel="stylesheet" type="text/css" href="css/generate-compact.css" media="all" />

<style>

</style>

<script src="/js/d3.v3.js"></script>
<script type="text/javascript" src="/js/jquery-1.7.1.js"></script>
<script type="text/javascript"
        src="/js/jQuery.UI.Combined.1.8.20.1/Content/Scripts/jquery-ui-1.8.20.js"></script>
<script type="text/javascript" src="/js/log-2.js"></script>
<script src="js/generate.js"></script>
<script src="js/tartan-data.js"></script>

<script>

function fadeInButton(id, speed) {
    if (arguments.length < 2) {
        var speed = 1000
    }
    $('#' + id).fadeIn(speed)
}
function fadeOutButton(id, speed) {
    if (arguments.length < 2) {
        var speed = 1000
    }
    $('#' + id).fadeOut(speed)
}

function calculateThreads(id) {
    var datasetId = $('#tartan option:selected').val();
    var threadCount = calculateTartanThreads(dataset[datasetId][1]);
    $('#threads').val(threadCount);
}

$(document).ready(function() {

    // svg document cannot be benerated prior to tartan generation
    fadeOutButton('svg-button',10);

    var body = d3.select(document.body);
    var select = body.select('form#tartans select#tartan');
    select.selectAll('#tartan option')
        .data(dataset)
        .enter()
        .append("option")
            .attr("value", function(d,i) {
                return i;
            })
            .text(function(d,i) {
                return dataset[i][0] + "(" + calculateThreadCount(i)[1] + ")";
            });

  Log.Hide();
});
</script>

</head>
<body>

<div id="main">
 <h1 id="header" class="transparent">World Tartans!</h1>
 <div id="body">
  <div id="nav" class="transparent">
   <ul>
    <li><a href=".">History</a></li>
    <li><a href="?scottish">Scottish</a></li>
    <li><a href="?British">British</a></li>
    <li><a href="?irish">Irish</a></li>
    <li><a href="?north-american">North American</a></li>
    <li><a href="?canadian">Canadian</a></li>
    <li><a href="?other-countries">Other Countries</a></li>
    <li><a href="?institutions">Institutions</a></li>
    <li><a href="?people">People</a></li>
    <li class="current">Generate Tartans <div id="arrow"></div></li>
   </ul>
  </div>
<div id="content" class="transparent">
   <h2>Generate Tartans</h2>
<div id="ioContainer">
<div id="formContainer">
<form id="tartans">
<fieldset>
 <legend>Tartan Options</legend>
 <ul>
  <li><label for="tartan">Tartan</label>
  <select name="tartan" id="tartan" onChange="fadeOutButton('svg-button');">

  </select>
  </li>
  <li>
  <label for="threads">Threads</label>
   <input id="threads" name="threads" type="number" pattern="[0-9]{1,4}"
          size="4" value="100" onChange="fadeOutButton('svg-button');" >
  </li>
  <li>
  <label>For Export</label>
   <input id="forExportYes" class="forExport" name="forExport"
          type="radio" value="yes" onChange="calculateThreads('forExportYes');fadeOutButton('svg-button');">
    <label class="inline" for="forExportYes">Yes</label>
   <input id="forExportNo" name="forExport" class="forExport"
          type="radio" value="no" onChange="fadeOutButton('svg-button');">
    <label class="inline" for="forExportNo">No</label>
  </li>
  <li>
  <label>Reverse</label>
   <input id="reverseYes" class="reverse" name="reverse"
          type="radio" value="yes" onChange="fadeOutButton('svg-button');">
  <label class="inline" for="reverseYes">Yes</label>
   <input id="reverseNo" name="reverse" class="reverse"
          type="radio" value="no" onChange="fadeOutButton('svg-button');">
  <label class="inline" for="reverseNo">No</label>
  </li>
  <li><label for="weave">Weave</label>
  <select name="weave" id="weave" onChange="fadeOutButton('svg-button');" >
   <option value="2" selected="selected">Over 2 Threads Under 2 Threads</option>
   <option value="3">Over 3 Threads Under 3 Threads</option>
   <option value="4">Over 4 Threads Under 4 Threads</option>
   <option value="1">Over 1 Threads Under 1 Threads</option>
  </select>
  </li>

  <li><label for="submit">Operation</label>
    <input id="generate-button" type="button" class="operation"
           value="Generate Tartan" id="submit" onClick="doTartan();fadeInButton('svg-button');">
    <input id="svg-button" type="button" class="operation"
           value="Generate SVG Document" onClick="writeSvgImage();">
  </li>
 </ul>
 </fieldset>
</form></div><!-- end formContainer -->

</div><!-- end ioContainer -->

<div id="svg-container">
<svg id="svg1"><!--comment--></svg>
</div>

<!-- end content div -->
</div>

<div id="thread-schedule">
    <div id="threadTable"><!-- data auto-generated --></div><!-- end threadTable -->
</div>

 </div>
 <div id="footer" class="transparent">
 Content &amp; Ideas from Iain Zaczek
 </div>
</div>
</body>
</html>
