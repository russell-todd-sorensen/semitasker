<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8" >

<base href="https://home.semitasker.com/">
<title></title>
<style>
    .red {
        color: red;
    }
    td {
        text-align: right;
        font-family:'Lucida Sans Unicode', monospace;
    }
</style>
<script src="/dsvg/devel/remainder.js"></script>
<script src="/js/decimal-to-base-n-conversion.js"></script>
<script>

var runTests = function (begin,end) {

    let i = (begin || 1)
    let k = (end || 10000)
    let results = [];
    let dig,formattedDigit,remain,tailIntList;
    let diff,notice,base16;
    output = `<table cellspacing='0' cellpadding='2' border='1px'>
    <tr><th>Tail</th><th>fDigit</th><th>Diff(10)<th>Base16</th><th>Remain</th>
    <th>Remain 2</th>
    </tr>`

    for (;i<k;i++) {
        dig = 10000 + i
        tail = ("" + dig).slice(1)
        tailRemain = tail % 16
        tailRemain2 = tail/16
        tailIntList = ("" + tailRemain2).split(".")  
        tailRemain2 = tailIntList[1]*16/1000 //wrong

        for (let j = 0;j<17;j++) {
            formattedDigit = "" + j + tail
            remain = formattedDigit % 16
            base16 = decimalToBaseNString(formattedDigit,16)
            diff = 625*j
            output += `
    <tr><td>${tail}</td><td>${formattedDigit}</td>
        <td>${diff}</td><td>${base16}</td><td>${remain}</td>
        <td>${tailRemain2}</td>
    </tr>\n`
        }
    }
    document.getElementById('results').innerHTML = output
}

var reduce = function(decimal,base) {
    let baseN = (base || 16);
    let i = ("" + decimal).length
    let valueMap = "0123456789ABCDEF".split("");
    let reduced,remain;
    let result = ""
    while (decimal > 0 && i < 100) {
        reduced = "" + (decimal/baseN)
        remain  = reduced.split(".")
        if (remain[1] && remain[1] != "") {
            remain = 16 * ("." + remain[1]);
            decimal = decimal - (remain*16)
        } else {
            remain = 0
            decimal = reduced
        }
        result =  "" + valueMap[remain] + result
        i++;
    }
    return result
}

var divide4 = function (decimalList) {

    decimalList = decimalList.reverse()
    let baseN = 16
    let valueMap = "0123456789ABCDEF".split("");
    let len = decimalList.length;
    let item,k,rem,res;
    let resultList = [];
    for (let i = 0, k = 0;i < len;i++) {
        item = decimalList[i]
        res = ""
        while (item > 0 && k < 8) {
            rem = item % baseN
            res = valueMap[rem] + res
            item = (item - rem) / baseN
        }
        resultList.push(res)
    }
    return resultList
}

var multi = function(decimalList) {
    let baseN = 16
    let valueMap = "0123456789ABCDEF".split("");
    let len = decimalList.length;
    let item,k,rem,res;
    let resultList = [];
    let newl = [];
    while (len > 0) {
        for (let i=0;i<len;i++) {
            item = decimalList[i]
            rem = item % baseN
            resultList.push(rem)
        }
        break
        decimalList = resultList
        len = decimalList.length
        resultList = [];
    }
    return resultList
}

var divideListOLD = function(multiple,base) {
    
    let baseN = (base||16)
    let len = multiple.length
    let res = []
    let rem = 0
    let numi,num,div;
    for (let i=0;i<len;i++) {
        numi = multiple[i]
        num  = "" + rem + numi
        rem  = num%baseN
        div  = (num-rem)/baseN
        if (div > 0) {
            res.push("" + div)
        }
    }
    return res
}

//console.log(runTests(testValues,12,20,6))
</script>
</head>
<body>
<div id="results"></div>
</body>
</html>
