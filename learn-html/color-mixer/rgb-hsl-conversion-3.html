<!DOCTYPE html>
<html lang="en_US">
<head>
<meta charset="utf-8" >
<title>HSL RGB Conversion Checker 3</title>
<link rel="stylesheet" type="text/css" href="http://ic00408/css/log.css" media="all">
<link rel="stylesheet" type="text/css" href="http://ic00408/js/jQuery.UI.Combined.1.8.20.1/Content/Content/themes/base/jquery.ui.all.css">


<style>

svg {
    background-color: #FFFFFF;
}

html, body {
    background-color: #000;
    padding: 0;
    margin: 0;
    border: 0;
    font-family: "Consolas Bold";
    font-family: "Agency FB Bold";
    font-family: "Tw Cen MT Bold";
}

.pointer {
    cursor: pointer;
}

#slider-box-1 {
    position: relative;
    display: none;
}

.text, .label, .label-2 {
    fill: #CCCCDD;
    font-size: 15px;
    font-weight: bold;
    letter-spacing: 3px;
    font-family: "Agency FB Bold";
}

.label:hover {
    fill: #E0C64A;
}

#no-show {
    display: block;
}

.control-line {
    stroke: #444;
    stroke-width: 1;
}

#bg {
    font-family: inherit;
    color: white;
}

#bg ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

form, fieldset, label, select, option {
    font-family: inherit;
}

#calculations {
    background-color: white;
}

#calculations div {
    color: #808080;
}

#p1, #lines line {
    /*fill: #808080; 
    stroke: #808080;*/
    stroke-width: .1px;
}

#points circle {
    opacity: 1.0;
}

#f1 {
    background-color: rgb(128,128,128);
    padding: 10px;
    position: absolute;
    top: 5px;
    left: 5px;
}


.input-button {
    color: #666;
    margin-left: 110px;
    font-weight: bold;
    border: 3px solid;
    cursor: pointer;
}

.mismatch {
    stroke-width: 1px;
    stroke: #333;
}

#panel label, #panel input, 
#panel-2 label, #panel-2 input, 
#panel-3 label, #panel-3 input {
    vertical-align: top;
}

#panel-3 {
    display: none;
    
}
#mismatch {
 position: absolute;
 top: 5px;
 right: 5px;
 background-color: #666;
 color: white;
}
</style>
<!--<link rel="stylesheet" href="http://ic00408/css/box-model.css" >-->


<script src="http://ic00408/js/jquery-1.7.1.js"></script>
<script src="http://ic00408/js/jQuery.UI.Combined.1.8.20.1/Content/Scripts/jquery-ui-1.8.20.js"></script>
<script src="http://ic00408/js/d3.v3.js"></script>
<script src="http://ic00408/js/log-2.js"></script>
<script src="http://ic00408/js/data.js"></script>
<script src="http://ic00408/js/form-save-restore.js"></script>
<script src="http://ic00408/js/binary-hex-conversions.js"></script>
<script src="http://ic00408/js/example-library.js"></script>
<script src="http://ic00408/js/svg-transform.js"></script>
<script src="js/color-mixer-15.js" ></script>
<script src="js/rgb-hsl-conversion-3.js" ></script>
<script>
// <![CDATA[ 

var Config = {
	formId: 'bg',
	xOffset: 40,
	yOffset: 420,
	yExpand: 400,
	rStart: 0,
	gStart: 0,
	bStart: 0,
	rEnd: 255,
	gEnd:255,
	bEnd: 255,
	rStep: 25,
	gStep: 25,
	bStep: 25,
	delay1: 5,
	delay: 500
}

var mismatchTable;

function showColorMismatch() {
	
	mismatchDiv = d3.select('#mismatch');
	mismatchDiv.text("");
	mismatchTable = mismatchDiv
		.append("table")
		.attr({cellpadding:1,cellspacing:0,border:1});
		
	var headerRow = mismatchTable
		.append("tr");
  headerRow
		.append("th")
		.text("Point");
	headerRow
		.append("th")
		.text("Red");
	headerRow
		.append("th")
		.text("Green");
	headerRow
		.append("th")
		.text("Blue");
	headerRow
		.append("th")
		.text("HSL");

		
	var selection = d3.selectAll('#points .mismatch');
	selection
	.transition()
	.ease('linear')
	.duration(100)
	.delay(function(d,i) {return 100*i;})
	.style('opacity',1)
	.each('end', function (d,i) {
		  if (i == 0) return;
			var tr = mismatchTable
				.append("tr");
			tr
			  .attr('id','mismatch-'+ i);
			var pointTd = tr.append("td");
			var pointDiv = pointTd
				.append("div");
			pointDiv
				.attr('style','background-color: ' + d.hsl + '; width: 20px;')
				.text(i);
			tr.append("td").text(d.r + " " + d.r2);
			tr.append("td").text(d.g + " " + d.g2);
			tr.append("td").text(d.b + " " + d.b2);
			tr.append("td").text(d.hsl);
	});
}

function changeConfig(inputId, configProperty) {
	
	var propertyValue = document.getElementById(inputId).value;
	
	Config[configProperty] = propertyValue;
	
	var call = "Data.saveInput('" + inputId + "','changeConfig'";
  for (var i = 1; i< arguments.length; i++) {
    call = call + ",'" + arguments[i] + "'";
  }
  
  call += ");";
  setTimeout(call, 10);
  return false;
	
}


function doAnimation () {
	generatePoints(Config.rStart,Config.gStart,Config.bStart); 
	scheduleFunction(myGraph.drawLine,Config.delay1,true,true);
	scheduleFunction(myGraph.drawPoint,Config.delay1,true,true);
}

function redoAnimationPre(inputId) {
  var delay = Config.delay;
	redoAnimation(delay);
}


function redoAnimation(timeout) {
	animateIndex = 0;
	animateClassIndex = 0;
	enableCircleLabels();
	if (arguments.length == 1) {
		timeout = parseInt(timeout);
		if (timeout <=0) {
			timeout = 50
		}
	} else {
		var timeout = Config.delay;
	}
	scheduleFunction(myGraph.animateColorsByClass2,timeout,true,true)
}

$(document).ready(function(e) {

	Log.Hide();
 //scheduleFunction(myGraph.animateColors,50,true,true)
  Data.restoreInput('circleOpacity');
	Data.restoreInput('lineOpacity');
	Data.restoreInput('lineWidth');
	Data.restoreInput('backgroundColor');
	Data.restoreInput('rGap');
	Data.restoreInput('gGap');
	Data.restoreInput('bGap');
	Data.restoreInput('delay');
	Data.restoreInput('delay1');
});

// ]]>
</script>

</head>
<body>

<div id="app-0">
<svg  id="svg" x="0" y="0" height="2000" width="2000" viewBox="0 0 2000 2000">
<defs>

<linearGradient id="lg-1" color-interpolation="sRGB" x1="50%" y1="0%" x2="50%" y2="100%" >
 <stop offset="0%" stop-color="#FFFFFF" stop-opacity="1.0" id="lg-4-0" />
 <stop offset="49.9%" stop-color="#FFFFFF" stop-opacity="1.0" id="lg-4-17" />
 <stop offset="50.1%" stop-color="#000000" stop-opacity="1.0" id="lg-4-83" />
 <stop offset="100%" stop-color="#000000" stop-opacity="1.0" id="lg-4-100" />
</linearGradient>
</defs>
<rect id="svg-background" x="0" y="0" height="2000" width="2000" fill="rgb(128,128,128)" />
<rect id="info" x="510" y="10" fill="#aaa" height="20" width="430" />
<g transform="scale(1.75)" >
 <g id="lines" ></g>
 <g id="points"></g>
</g>
</svg>
</div>

<div id="f1">
<form id="bg">
<fieldset>
<legend>General Animation Options</legend>
<ul id="panel">
 <li><label for="showpoints">Show:</label>
  Points
  <input type="checkbox" name="showpoints" id="showpoints" checked="checked" onChange="toggleVisibility('#points')" />
  Lines 
  <input type="checkbox" name="showlines" id="showlines" checked="checked" onChange="toggleVisibility('#lines')" />
 </li>
 <li>
  <label for="circleOpacity">Point Opacity:</label>
  <input id="circleOpacity" name="circleOpacity" type="range" min="0" max="1" step=".1"
         onChange="Data.changeOpacity('circleOpacity', '#points circle')">
  </li>
 <li>
  <label for="lineOpacity">Line Opacity:</label>
  <input id="lineOpacity" name="lineOpacity" type="range" min="0" max="1" step=".1"
         onChange="Data.changeOpacity('lineOpacity', '#lines line')">
  </li>
 
 <li>
  <label for="lineWidth">Line Width:</label>
  <input id="lineWidth" name="lineWidth" type="range" min=".1" max="5" step=".1"
         onChange="Data.changeStyle('lineWidth', 'stroke-width', '#lines line')">
  </li>
 <li>
 <label for="backgroundColor">Background:</label> 
 <input id="backgroundColor" name="backgroundColor" type="range"
       min="0" max="255" step="1" width="255" onChange="SvgTransform.changeFillColor('backgroundColor','#svg-background');" >
 </li>
 <li>
 <label for="rGap">Red Gap:</label>
 <input id="rGap" name="rGap" type="range"
       min="5" max="255" step="5" value="25" onChange="changeRgbGap('rGap','rStep');">
 </li>
 <li>
 <label for="gGap">Green Gap:</label> 
 <input id="gGap" name="gGap" type="range"
       min="5" max="255" step="5" value="25" onChange="changeRgbGap('gGap','gStep');">
 </li>
 <li>
 <label for="bGap">Blue Gap:</label> 
 <input id="bGap" name="bGap" type="range"
       min="5" max="255" step="5" value="25" onChange="changeRgbGap('bGap','bStep');">
 </li>  <li>
 <label for="delay1">Anim. Delay 1:</label> 
 <input id="delay1" name="delay1" type="range"
        min="2" max="1000" step="1" width="255" value="300"
        onChange="changeConfig('delay1','delay1')">
 </li>
 <li>
  <input class="input-button" type="button" value="Start Animation 1" onClick="doAnimation();" />
 </li>
 </ul>
 <ul id="panel-2">
  <li>
 <label for="delay">Anim. Delay 2:</label> 
 <input id="delay" name="delay" type="range"
        min="2" max="1000" step="1" width="255" value="300"
        onChange="changeConfig('delay','delay')">
 </li>
  <li>
  <input class="input-button" type="button" value="Start Animation 2" onClick="redoAnimationPre();" />
 </li>
  <li>
  <input class="input-button" type="button" value="Show Color Mismatch" onClick="showColorMismatch();" />
 </li>
</ul>
<ul id="panel-3">
 <li>
 <label for="x">Origin-X:</label> 
 <input id="x" name="x" type="range"
       min="0" max="1500" step="1" width="255" value="0" onChange="adjustViewBox('svg');" >
 </li>
 <li>
 <label for="y">Origin-Y:</label> 
 <input id="y" name="y" type="range"
       min="0" max="850" step="1" width="255" value="0" onChange="adjustViewBox('svg');" >
 </li>
 <li>
 <label for="w">View Width:</label> 
 <input id="w" name="w" type="range"
       min="0" max="1500" step="1" width="255" value="1000" onChange="adjustViewBox('svg');" >
 </li>
 <li>
 <label for="h">View Height:</label> 
 <input id="h" name="h" type="range"
       min="0" max="850" step="1" width="255" value="1000" onChange="adjustViewBox('svg');" >
 </li>
</ul>
</fieldset>
</form>
</div>
<div id="mismatch"></div>
</body>
</html>
