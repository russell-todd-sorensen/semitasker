<html><head>
<title>ns_imgmime - NaviServer Built-in Commands </title>
<link rel="stylesheet" href=".././nsd.css" type="text/css">
</head>
<! -- Generated from file 'files/ns_imgmime.html' by tcllib/doctools with format 'html'
   -->
<! -- CVS: $Id$ ns_imgmime.n
   -->

<body>
<hr> [
  <a href=".././toc.html">Table Of Contents</a>
| <a href=".././index.html">Keyword Index</a>
] <hr>

<h1> ns_imgmime(n) 4.99  &quot;NaviServer Built-in Commands&quot;</h1>
<h2><a name="name">NAME</a></h2>
<p>
<p> ns_imgmime - Return the MIME type of an image




<h2><a name="table_of_contents">TABLE OF CONTENTS</a></h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#table_of_contents">TABLE OF CONTENTS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#synopsis">SYNOPSIS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#description">DESCRIPTION</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#commands">COMMANDS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#examples">EXAMPLES</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#see_also">SEE ALSO</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#keywords">KEYWORDS</a><br>
<h2><a name="synopsis">SYNOPSIS</a></h2>
<p>
<table border=1 width=100% cellspacing=0 cellpadding=0><tr            bgcolor=lightyellow><td bgcolor=lightyellow><table 0 width=100% cellspacing=0 cellpadding=0><tr valign=top ><td ><a href="#1"><b class='cmd'><a href="ns_imgmime.html"> ns_imgmime </a></b> <i class='arg'>filename</i></a></td></tr>
</table></td></tr></table>
<h2><a name="description">DESCRIPTION</a></h2>
<p>
Returns the MIME type of an image based on the image type (and not just
the file extension). Currently JPEG, GIF and PNG files are supported, so the result can be one of
&quot;image/jpeg&quot;, &quot;image/gif&quot; or &quot;image/png&quot;. If the filetype is not recognized
the type &quot;image/unknown&quot; is returned. An error is generated if the file does
not exist.

<h2><a name="commands">COMMANDS</a></h2>
<p>

<dl>

<dt><a name="1"><b class='cmd'><a href="ns_imgmime.html"> ns_imgmime </a></b> <i class='arg'>filename</i></a><dd>


</dl>

<h2><a name="examples">EXAMPLES</a></h2>
<p>

<p><table><tr><td bgcolor=black>&nbsp;</td><td><pre class='sample'>
   % ns_imgmime screenshot.jpg
   image/jpeg
</pre></td></tr></table></p>

<p><table><tr><td bgcolor=black>&nbsp;</td><td><pre class='sample'>
   % ns_imgmime test.html
   image/unknown
</pre></td></tr></table></p>

<p><table><tr><td bgcolor=black>&nbsp;</td><td><pre class='sample'>
% foreach f [glob -nocomplain -types f /tmp/images/*] {
    if {[lsearch [list jpeg png gif] [ns_imgtype $f]]} {
        puts -nonewline &quot;supported image:  &quot;
    } else {
        puts -nonewline &quot;unsupported file: &quot;
    }
    foreach {width height} [ns_imgsize $f] { break }
    set mimetype [ns_imgmime $f]
    set f [file tail $f]
    puts [format &quot;%30s width: %5i height: %5i MIME: %15s&quot; \
        $f $width $height $mimetype]
}
unsupported file:   support.pdf width:     0 height:     0 MIME:   image/unknown
supported image:  MARADONNA.jpg width:   294 height:   420 MIME:      image/jpeg

</pre></td></tr></table></p>




<h2><a name="see_also">SEE ALSO</a></h2>
<p>
<a href="../index.html#key527"> nsd </a>
<h2><a name="keywords">KEYWORDS</a></h2>
<p>
<a href="../index.html#key4"> ns_gifsize </a>, <a href="../index.html#key3"> ns_guesstype </a>, <a href="../index.html#key1"> ns_imgsize </a>, <a href="../index.html#key5"> ns_imgtype </a>, <a href="../index.html#key2"> ns_pngsize </a>
</body></html>

